package pt.ulisboa.tecnico.cmov.conversationalist;

import androidx.appcompat.app.AppCompatActivity;
import androidx.core.content.FileProvider;

import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.Bundle;
import android.util.Base64;
import android.widget.Button;
import android.widget.ImageView;

import java.io.File;
import java.nio.charset.StandardCharsets;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Button btn = (Button) findViewById(R.id.publicChatroomButton);
        btn.setOnClickListener((v) -> {
            Intent intent = new Intent(this, PublicChatroomActivity.class);
            startActivity(intent);
        });
        Button btn2 = (Button) findViewById(R.id.button2);
        btn2.setOnClickListener((v) -> {
            String data = "iVBORw0KGgoAAAANSUhEUgAAAIIAAABkCAIAAADFfH81AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAPqElEQVR4Xu2de1QUR77Hf9UzDMPM8BoU5D0DGDQKGkBh1bzIugF8i24icTUac9WbzW7Ozdm7e+499//7xz0nL8Mmm13Xm8dNdn3hKzlLXJXNZhcRFPER5DnADM8RBoR5wEzX/aPn0d1TPYAww6D9OQcdfl3166r6dVXXVH+7QDmr80FEmAmrJUQexrfONlK+wQ0GjGm+ce5AiALEN07CbFQB0zSmZ+qEwUcVKL5BZC6QxCcm8W0Mqqf2HnpqpK7ZNP1LAany9v8yd7imaWjyvFR09rYDu4vWrEgYN6iKDwvnQoCQwLUkAAbMN00f2m6XSEP41odDuAoCgxIGPHa74rPGUTv/yCyDIpflaztPvXe23Y5UeSv5h1kwTUquBQnsyhI8CFeBHQaJennR9sInIqUIdV/65Cy1/UD8lXfOtcvzXt2lvtWe8PwqdfPJDyqacExW0fYXMqOkCHVf+l2lsqwstOLDi90OQNFrD+5Rnj9SaXC7RPL0H5eVLA6FkDDU+7evTtYOsL2d+sPt+OL8hPDQjfti73x7rMadTRqTVbS9MCMcAT3S9NfTlbdMioJ9/xJf9W5FOw7LeunXW+HU//ypwSJZvOWX6wwfHasdYzc4Uubu3aW+1Zbw/Kro5pMfVDRLeGXo9/e1JQjGAIgUB08YkHp16YsR137//g2TnZJQWP6U+5AkKXf57T9+8N+9VgwoZk1pUcS1T967YbJTUgmOXONORgBbO6o+P/LtOEZR617bn59Uf97I8QZNlXVL1LKKo5W9DqRawGRC0at2FCn/+dH7DQ8gcsXOQ9vzDEdrWttGC7QLqDaTNjOqtzckUyNruKdOSxlp+c7sfdFLEnOW33KdAiZ4ZTinm7M4AMYYCEOTJwyhyWmL9NfvmOyAMW13sBNiW/PVWqZKIE9Oi++6fsdkBwBeMgKSCE1+YYFGCXY6YkHYgAyA642IPCUtrvNG4wMaAIZ/uNW5KSc1tPpmq07yojY8dPDJRfqqy7KizOTQ3jgtbj9r4jrCgDHmnIJUhrmEiQS3V1AAzmEUY0A0BkxoHjxhs7nM2PlDQiqRcMJCha/Y/HJ6zzdffvH5l6f/oXcwVrY3QTh+MAage1t0UZqMjKWJ+nutrfd6k59IT9OodC19zP3cWQWMMQbOKchlmGOYgmLsvoFRAIAxjTFt07cPpGQtCacAAIWECM1kbXodJ5nNbFGq1SEAQEWkamO52WRKxcT9PpMdkCI1I0nCOSaMtbPZkMicgopYkpXa29ZpA5gwNOsXrV4b393YYbO03RvUPJO7sKPJYKdpTNNMFQC7qsWCUAbZwqW5i2OkpA+Bg7lqaOabjefM2Hj1+MUNpQfeWg+Au6/88YInBxtesqMn7lbVZG9+fX/OwJjtwVgvZ9SlBxv+3riz+LU9D2y2ge62wQj2QWHwUN2pb2K2v/rzQkBgbv369LVBDAA2Xdvwy8WWv7dbAVMt98ylG0zVnRP8zHwIZUDhGevWp99obh0M4X+4P0KcLPsdlLM6f7a+JT6SBGAxA1FUQPuhXwjRFL78bKp7MDQ3fnPqam9w3AKmjtgbJiEwvUHoTiwSUMQwBAViGIICMQxBgXTCahFv0b6ZsFr4plkFUZQ0RB4mhsEH4kzpMUIMQ1AghiEoEMMQFIhhCArEMAQFYhiCAkl8YhLxwScKzw0undIMmEldZlOnJABCSPB5Ax4NMp3SDAhQXWYAuzdIY7JKdpdtemHd2nUa6532RaUHs001TSZF3r69y6Xqp195qTC2v7bxPsVJ1pOx/8AThtq2BxhQ9NpDB5f21rY+CEl4alW4rrppCMvT1+/ZXVSQv+aZAs1E+71uM9vbwF378pIXshISktMzVYMNBsUKJhctjckq2b2r5LkfFeQ/qR7TtffbVAX731w1UtM4BIrsl//rUNbgtbt9E9Intr69JbyhvnvcUyEUW/ivry/trW0eoQHkS3e+vTX8dr1padnBbFMN43nDKzt+smZVfl66tLfFMGInjARsAt0bUMxqjgApOHVKrSZtZlRPjyxTI7t5T52WOszXKWFjfcPYa9lJf+nSOcLSV2gN17954E6AonO2Pu24ePSIzipLLT68paD5wysDk8QhIHjC4EOAFDw6pQj54JPxhqrLIcWZyXKnTok33tNDDQ2Dr2dpKzu7M7I0HfVnR2lQOY/JktK10bHFe17HACiUkrVGUDAQDA9MWcoM5w+BmemUmn/7+dX7dvnK3W8tBgCuN0HIOqVVGRlxifofzrbKegoz09Ojwtu/937sjB/cvtF/MFsbHrEioeXaaTPLGZJI7Lorx7646d8l0+njmbDyBUieNBz4yeZSpxSra+72igIAtjTeMGjzfrwipul6m419xNbZ2pOSkxsrAwCQKiMUFEGqNAeapUdTp0Sbm+s7N+9Orfu4g3scD147fiZqe9mba5CDpsdunf+00sSXKs2JZklUZkxCYJ43BLbv+QNRp/Q4EJjeIHQnFgkoYhiCAjEMQYEUABCiAAAD8+bkpN+sHob5O/r5reTM+z7Ob5ZSjgiHCQVp3XuGUBTFvIcz70AIzb5OCSHeS1dS72kAxrMfifkbBrvN6t1EMwIh71cQCT0OIQRe6URmB1IMgBgGYMYt7uqayGyAiC9Fg1AYxCj4BeFWFVzMQIBmZc+JR5sFCxekpaRIpYLNCAB2u72ts9M4YBTqCuAjDCJTIS0l1dDXZ7FxltN5hIWGpqWkGgeM/AMsBAYlEOw+ImykUonvGACAxWaTSiUAvpp0jnsDQoiZIXMMTsj2qU18EUL8lAIuBMyBRbA3IEXu/l9tSpMCCs/d+4sSrVe8kCpv/9slGi87G6TKY5xwjMrcfW9v1EqIUzfnLgYYY8yaNTuD5bR65+JCdMx14bEit9X/s3ThKPtsRQAA/4l8MMbAvfy9QEzREXi+Tzpb0ZWVccL97GxTjl+OCwCEAGNBxw+BOjo6NJS/K4rZYhkeHuEZibDDwNpPqefyJ2ecBULKrNID8VfeOddml3J2UjrrzIailu/8Wb7x9BeXDMDfPQkAQL1yy/6ShEilZLDu3IlLbWZnNgAAiXp5yfZnkkMxogevn6uo1rO0AghcbSIUJ4wxQggx7eeKARmuCyYAJB4uDuro6NLNm/hWAJqmv/jzcavr5oEBC02WPGFw76dUP+ygKIqW8yV0RCETUmZuKVs7+vXnl/VWAPBWJVERMePXy8tPj8uSfnLop8+3vnuhw+0wKmfrM46LR8t11pCUokNbCprLq4yYPVa7UvJxt5ZrkBJO6mZKKciNNBnMqObdr5mxjvU7AJDP4QmDcz+lYQcAOBwEARJBoUTFrt21UlX/8cetYxgEVEnm9qYuKwBl677bQhclR6IO18wiJCldExVbvOcAjQHJqJC2CAqMDnfRmSud2HpuozMEzJDETuHN5Be6d5WnyJDJdPzMGUUYf+lpdHTMxplHMQMh4TwsZYbzBzAmL+25E7ihFJGW642xq9Zk1F9oNgNRleSjdkgisXdUHfu/mxbC2ZiLEwFgwavUcz9wjU5EPwCML89vRG8AwK/fNBgeHpnSbYB03wL2TGlcrzMmZy1RAmBM1CnxFUoA9GhzXdX5P91O3Lp5WSQiq5KQQrMkSQ4Asvgl6UjfOeyp6Xhna29yTu7CEAAAiSI8jFs4BK5mcQaEsXquanaf5/d/Puw4TOrYv2CMMX+BQgrgPDttrPatUxIQMo0bqk5+v2dv6eru/yWpkhxdbdbVu9/YpJQj043TJzpZmgk8dO34mejSXT8vAAdNm29f+LSyfYIVCk/LYuZy51mnhXPocn4mOSYOAf7BVQDnAIUCpcyY188bJLJQvtXF6tzcqSxmJMbF1dTV8Q+4eCR0SnNKW2fH1Jb2OvhWLr7yi0yKccDoe81uinjfiUXmADEMQYEYhqBADENQEKD9lObvhBX5Q6fEJXD7KflN++Z3AqPoDtCElfZ/pP0ETdNTfVlsBszXi/QRQwxDUBCgQelRZVo6Jf4BFr7yi0yK/3VKIlNgejolYcQwBAWCYXBLjIR0Sh5CYpavf+Wtf//Nf/7m1//xq8PblkVQRHmSyw9ZvLTw2TfeLFzEfzj4uOCjdZ1MolNCyqWb920M/dtnR740mGlKER0Jo5gU3En8zHNmUackIENy6ZTa5Xmv7k3t6Y5IT4oKlw7WnT1xsXUMIlc8m6n/+t1ag5kGANo8NASAVAAQlb15X3FiVITcfPfrr87eGQa3H88ZQxMKtu5YGw/m0cFuswx6AQCpvP/MXPG2p1PlgOjBunMV1Xppzqt7UgzdKm28Wq2y/HDhqzN3WQ+454Ip6pR8wNIpkWRIPCRxydS5jz48PS7XFr2x4/mWd853LUqI7e/osPC/JFMRsXCzvPyUJVS78c2NuXF3L/XxUgCghfnbnsNXjrzfMCpZ9Nxrb1C9jJ2zfVP0at4OSOW1IInXKv5S/rsKl/MfLvXOaRwwxsxDbYKdZxLAEwaCDMkLbNa1dFsBwNp15x79YnIk1QUIAfZOjM1tdzssGMDW32OUJyhIMwV5YsoC3fXGURqA7mtsGshy2tkbLpF2QCI5n9Oxbso6JUEIOiVfIPeojygEAOAw9t2PTUmUV5u4q5DYbne2jM8LAmNw9iOaxq75AnvDJe8dkJAqb4rOA8lUdUoCeG6m3jIkb5BCuyRFjoCSJy9bDPrOYRrfb6jWZ2zYuDJWTgEASOVy/o1KEGt311DK0sVKCkCqXpyxkHRKwg5IjyKs3kCWIXGgR4yy3LLDGyLCJUO1J0902AHAVHfiM1lR0b5/K5FiBx6/X/3nY5eH+BmJ4P6rp77ftvPQL9abRwea+7tIeyMRdkDyvsnMf6ahU0KqvH2HF11+53z7nA7EAcb384a50il5zQYeb0SdUlAwWzqlaQxKjye+B6VZQdzWKlgQwxAUiGEICgKkU5rXBEKnFJ+sYdYw/Lq72GzD2prL+fIJ88/sV6GnSxefrOFbZwFOFaTMf04zU4OgWaghg5C7/Cwj8898rQLvGRggQEFdDeR5R4rM/KwC4RaNEArSL8ukChCZd1Ugf4t2XlCzOsjOGOQ1EvkiMFVQKsPiYtSTLmb03R8cG7P4qIJAftZ9L1hArlJNkYBUIS4mZopLe21jeh9VIAxKDEJxmyseojwPkWW6TEunRCyPRCJBPv7SlUgAwJguf+/9CbtdMAxIuaz0pQU1n1bp5U9u2RpT+9V3eu/d+KnYH+0ozg5HSKZQUONjVjs4dN9+dqWNkDLlxQMbMhzmcaDA2n/7u8v/7GRvJUMAReeVFVOVX9aw/waS22hUCJfKDQJmw+WZgCgK+Vh5m+JcACFvJxhjmsYaTerx48f/H4KbJIhGKyOUAAAAAElFTkSuQmCC";
            byte[] dataInBytes = data.getBytes(StandardCharsets.UTF_8);
            byte[] decodedString = Base64.decode(data, Base64.DEFAULT);
            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);
            ImageView img = (ImageView) findViewById(R.id.imageView);
            img.setImageBitmap(decodedByte);
        });
    }
}